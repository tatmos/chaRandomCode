/*	simple javascript string concatenation object*/outlets = 4;// set up inlets/outlets/assist stringssetinletassist(0,"join");setoutletassist(3,"no ext string (symbol)");setoutletassist(2,"no ext string (symbol)");setoutletassist(1,"ext string (symbol)");setoutletassist(0,"name string (symbol)");// global varables and codevar vRootNoteArray = new Array();var vBaseNoteArray = new Array();var vCode3Array = new Array();var vCode5Array = new Array();var vRoot = 60;var vThird = 64;var vFifth = 67;function init(){	vRoot = 60;	vThird = 64;	vFifth = 67;	vRootNoteArray =	new Array(		      "C ",		"Db ","D ",		"Eb ","E ",		     "F ",		"Gb ","G ",		"Ab ","A ",		"Bb ","B "	);	vRootNoteArray2 =	new Array(		     "C ","C# ",		     "D ","D# ",		     "E ",		     "F ","F# ",		     "G ","G# ",		     "A ","A# ",		     "B "	);	vCode3Array =	new Array(			"","","",		     "m","","sus4"	);	vCode5Array =	new Array(		     "","","",		     "m","","sus4",			  "(b5)","","(#5)"	);}function anything(){	vRoot 	= 48 		+ Math.floor(Math.random()*12);	vThird 	= vRoot 	+ 3 + Math.floor(Math.random()*3);	vFifth 	= vRoot 	+ 6 + Math.floor(Math.random()*3);	getCode();}function setRoot(a){	vRoot = a;}function getCode(){	outlet(3,vFifth);	outlet(2,vThird);	outlet(1,vRoot);	var v1 = vRoot%12;	var v3 = vThird - vRoot;	var v5 = vFifth - vRoot;	var CodeName = 			vRootNoteArray[vRoot%12] + 						vCode3Array[vThird - vRoot] +						vCode5Array[vFifth - vRoot]						;		if(v3 == 3 && v5 == 6){		//	m(b5)		var CodeName = 	vRootNoteArray[vRoot%12] + 						"dim";	}		if(v3 == 4 && v5 == 8){		//	(#5)		var CodeName = 	vRootNoteArray[vRoot%12] + 						"aug";	}		if(v3 == 5 && v5 == 8){		//	sus4(#5)	-> Im/5			var CodeName = 	vRootNoteArray[vThird%12] + 						"m/" + vRootNoteArray[vRoot%12];		if(	vThird%12 == 11 			//	Enharmonicc #		){			var CodeName = 	vRootNoteArray[vThird%12] + 						"m/" + vRootNoteArray2[vRoot%12];		}	}		if(v3 == 3 && v5 == 8){		//	m(#5)	-> I/3			var CodeName = 	vRootNoteArray[vFifth%12] + 						"/" + vRootNoteArray[vRoot%12];		if(	vFifth%12 == 9 ||			//	Enharmonicc #			vFifth%12 == 11 ||			vFifth%12 == 2 ||			vFifth%12 == 4 		){			var CodeName = 	vRootNoteArray[vFifth%12] + 						"/" + vRootNoteArray2[vRoot%12];		}	}		if(v3 == 5 && v5 == 6){		//	sus4(b5)	-> Ib9omit3/V			var CodeName = 	vRootNoteArray[vThird%12] + 						"add(b9)no3/" + vRootNoteArray[vRoot%12];	}		//-------	if(v3 == 2 && v5 == 5){		//	Idim/5		var CodeName = 	vRootNoteArray[vRoot%12] + 						"add2_4";	}	if(v3 == 2 && v5 == 6){		//	I7/7		var CodeName = 	vRootNoteArray[vThird%12] + 						"7/" + vRootNoteArray[vRoot%12]						+ "no3";	}	if(v3 == 3 && v5 == 5){		//	I7/5 no3		var CodeName = 	vRootNoteArray[vFifth%12] + 						"7/" + vRootNoteArray[vRoot%12]						+ "no3";	}	if(v3 == 4 && v5 == 9){		//	m/3		var CodeName = 	vRootNoteArray[vFifth%12] + 						"m/" + vRootNoteArray[vRoot%12];	}	if(v3 == 5 && v5 == 9){		//	I/5		var CodeName = 	vRootNoteArray[vThird%12] + 						"/" + vRootNoteArray[vRoot%12];	}	if(v3 == 6 && v5 == 8){		//	I7/3		var CodeName = 	vRootNoteArray[vFifth%12] + 						"7/" + vRootNoteArray[vRoot%12]+ "no5";	}	if(v3 == 6 && v5 == 9){		//	Idim/5		var CodeName = 	vRootNoteArray[vThird%12] + 						"dim/" + vRootNoteArray[vRoot%12];	}	if(v3 == 6 && v5 == 10){		//	b5 7		var CodeName = 	vRootNoteArray[vThird%12] + 						"7(b5) no3";	}	if(v3 == 7 && v5 == 10){		//	Idim/5		var CodeName = 	vRootNoteArray[vRoot%12] + 						"7 no3";	}	if(v3 == 7 && v5 == 11){		//	Idim/5		var CodeName = 	vRootNoteArray[vRoot%12] + 						"M7 no3";	}	CodeName += "[" + v3 + "_" + v5 + "]";		outlet(0,CodeName);	}function clear(){	vStrArray = new Array();	outlet(2,vStrArray.length);}function add(a){	if (arguments.length==0){			}	else 	{		var hit = 0;				for(var i = 0;i < vStrArray.length; i++){						if(vStrArray[i] == a){					hit = 1;				break;			}		}		if(hit == 0){					vStrArray.push(a);			outlet(2,vStrArray.length);		}			}}function randomGet(){	if(vStrArray.length > 0){		var i = Math.floor(Math.random()*vStrArray.length);		outlet(0,vStrArray[i]);		}	}function length(){	outlet(2,vStrArray.length);}function dump(){	for(var i = 0;i < vStrArray.length; i++){		outlet(1,vStrArray[i]);		}}